<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Quiz on Symbolism</title>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
<link rel="stylesheet" href="../static/styles.css">
</head>

<style>
 body {
     padding-top: 70px;
 }
</style>

<body>

<nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top">
  <div class="container">
    <a class="navbar-brand" href="/">Symbolism</a>
    <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
      <div class="navbar-nav ml-auto">
        <a class="nav-link active1" href="/detail-elements-of-arnolfini">Learn again</a>
        <a class="nav-link active2" href="/">Home</a>
      </div>
    </div>
  </div>
</nav>

<div class="container my-5">
  <div class="jumbotron mt-5">
    <div class="row">
      <div class="col-md-6">
        <h1>Quiz 3</h1>
        <h4 style="margin-top: 30px">Which element in the painting symbolizes the presence of the Holy Spirit or the watchful eye of God?</h4>
        <p>(Click on the elements in the painting that match the meaning!)</p>
        <div id="feedback-area">
          <p id="feedback-message"></p>
          <button id="hint-button" class="btn btn-info" style="display:none;">Show Hint</button>
          <div class="hint-popup"></div>
        </div>
      </div>
      <div class="col-md-6" style="position: relative;">
        <img src="https://upload.wikimedia.org/wikipedia/commons/3/33/Van_Eyck_-_Arnolfini_Portrait.jpg" alt="Painting" style="width: 100%;">
        <div class="number" data-correct="true" style="top: 10%; left: 30%;">A:The Single Lit Candle</div>
        <div class="number" data-correct="false" style="top: 50%; left: 5%;">B:Fruits</div>
        <div class="number" data-correct="false" style="top: 60%; left: 65%;">C:The Green Dress</div>
        <div class="number" data-correct="false" style="top: 90%; left: 10%;">D:Shoes</div>
      </div>
    </div>
  </div>
  <div id="continue-message" class="alert alert-success" style="display: none;">Good job! You can proceed to the next quiz.</div>
  <div class="d-flex justify-content-between mt-4">
    <a href="/quiz2" class="btn btn-secondary" id="quiz2button">Previous</a>
    <a href="/quiz4" id="quiz4button" class="btn btn-primary">Next</a>
  </div>
</div>

<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script>
$(document).ready(function () {
    let correctAnswerGiven = false; // Tracks whether the correct answer has been given

    $('.number').click(function () {
        var isCorrect = $(this).data('correct');
        var feedbackMessage = $('#feedback-message');
        feedbackMessage.removeClass('correct-feedback incorrect-feedback'); // Remove previous classes

        if (isCorrect) {
            correctAnswerGiven = true; // Set to true when the correct answer is given
            feedbackMessage.addClass('correct-feedback').text('Correct!');
            $('#hint-button').hide();
            $('.hint-popup').hide();
            $('#continue-message').show();
        } else {
            correctAnswerGiven = false; // Set to false when an incorrect answer is given
            feedbackMessage.addClass('incorrect-feedback').text('Try again!');
            $('#hint-button').show();
            $('.hint-popup').hide();
        }
    });

    $('#hint-button').click(function () {
        // Toggle hint visibility
        if ($('.hint-popup').is(':hidden')) {
            $('.hint-popup').text('Hint: Look towards the light for divine inspiration.');
            $('.hint-popup').show();
        } else {
            $('.hint-popup').hide();
        }
    });

    $('#quiz4button').click(function (e) {
        if (!correctAnswerGiven) {
            e.preventDefault();
            $('#continue-message').hide(); /// Prevent moving to the next quiz if the correct answer hasn't been given
            alert('Please select the correct answer before moving on!'); // Show an alert popup
        }
    });
});

</script>

</body>
</html>
